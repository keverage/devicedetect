!function(e){"use strict";e.DeviceDetect=function(t){return e.extend(this.settings={},e.DeviceDetect.defaults,t),this.devicesRules={phones:"iphone|ipod|Android.*Mobile|Android.*Mobile Safari|blackberry|opera|mini|windows\\sce|palm|smartphone|iemobile",tablets:"ipad|Android.*Safari|android 3.0|xoom|sch-i800|playbook|tablet|kindle"},this.userAgent=navigator.userAgent,this.devices={},this.type=null,this},e.DeviceDetect.defaults={maxWidth:{smartphone:767,tablet:1023},resizeTimeout:100,onCheckDevice:void 0,onGetDevices:void 0,onCheckScreen:void 0,onGetFormats:void 0},e.DeviceDetect.prototype={checkUserAgent:function(e){var t=new RegExp(this.devicesRules[e],"i");return t.test(this.userAgent)},checkDevice:function(){return this.checkUserAgent("phones")?this.type="smartphone":this.checkUserAgent("tablets")?this.type="tablet":this.type="desktop",void 0!==this.settings.onCheckDevice&&this.settings.onCheckDevice.call({DeviceDetect:this,type:this.type}),this.setDevices()},checkScreen:function(e){return e>this.settings.maxWidth.smartphone&&e<=this.settings.maxWidth.tablet?this.type="tablet":e<=this.settings.maxWidth.smartphone?this.type="smartphone":this.type="desktop",void 0!==this.settings.onCheckScreen&&this.settings.onCheckScreen.call({DeviceDetect:this,type:this.type}),this.setDevices()},setDevices:function(){return this.devices.smartphone="smartphone"===this.type,this.devices.tablet="tablet"===this.type,this.devices.desktop="desktop"===this.type,this.devices},getDevices:function(){return this.checkDevice(),void 0!==this.settings.onGetDevices&&this.settings.onGetDevices.call({DeviceDetect:this,devices:this.devices}),this.devices},getFormats:function(){var t=e(window).width();return this.checkScreen(t),void 0!==this.settings.onGetFormats&&this.settings.onGetFormats.call({DeviceDetect:this,windowWidth:t,devices:this.devices}),this.devices},onResize:function(t){var i,s=this;e(window).on("resize",function(){clearTimeout(i),i=setTimeout(function(){s.getFormats(),void 0!==t&&"function"==typeof t&&t.call({window:this,DeviceDetect:s,devices:s.devices})},s.settings.resizeTimeout)})}}}(jQuery);