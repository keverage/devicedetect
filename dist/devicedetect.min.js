!function(n){"use strict";n.DeviceDetect=function(e){return n.extend(!0,this.settings={},n.DeviceDetect.defaults,e),this.userAgent=window.navigator.userAgent,this.devices={mobile:!1,tablet:!1,desktop:!1,oldbrowser:!1},this.type=null,this.windowWidth=window.innerWidth,this},n.DeviceDetect.defaults={maxWidth:{mobile:767,tablet:1023},rules:{mobile:"iphone|ipod|Android.*Mobile|Android.*Mobile Safari|blackberry|opera|mini|windows\\sce|palm|smartphone|iemobile",tablet:"ipad|Android.*Safari|android 3.0|xoom|sch-i800|playbook|tablet(?! PC)|kindle",oldbrowser:"MSIE ([0-9]|10)\\."},resizeTimeout:100,onGetDevices:void 0},n.DeviceDetect.prototype={checkUserAgent:function(e){return void 0!==this.settings.rules[e]&&new RegExp(this.settings.rules[e],"i").test(this.userAgent)},checkDevice:function(){return this.checkUserAgent("mobile")?this.setType("mobile"):this.checkUserAgent("tablet")?this.setType("tablet"):this.setType("desktop"),this.setDevices()},checkScreen:function(){return this.getWindowWidth()<=this.settings.maxWidth.mobile?this.setType("mobile"):this.getWindowWidth()<=this.settings.maxWidth.tablet?this.setType("tablet"):this.setType("desktop"),this.setDevices()},setDevices:function(){return this.devices.mobile=this.is("mobile"),this.devices.tablet=this.is("tablet"),this.devices.desktop=this.is("desktop"),this},getDevices:function(){return this.checkDevice(),"desktop"===this.getType()&&this.checkScreen(),void 0!==this.settings.onGetDevices&&this.settings.onGetDevices.call({deviceDetect:this,devices:this.devices}),this.devices},setType:function(e){return this.type=e,this},getType:function(){return this.type},is:function(e){return this.getType()===e},getWindowWidth:function(){return this.windowWidth},onResize:function(t){var i,s=this;return n(window).on("resize.devicedetect orientationchange.devicedetect",function(e){clearTimeout(i),i=setTimeout(function(){s.windowWidth=window.innerWidth,s.getDevices(),void 0!==t&&"function"==typeof t&&t.call({window:this,event:e,deviceDetect:s,devices:s.devices})},s.settings.resizeTimeout)}),s},onOldBrowser:function(e){return(this.devices.oldbrowser=this.checkUserAgent("oldbrowser"))&&void 0!==e&&"function"==typeof e&&e.call({deviceDetect:this,devices:this.devices}),this},onChange:function(e){return void 0!==e&&"function"==typeof e&&(e.call({deviceDetect:this,devices:this.devices}),this.onOldBrowser(e),this.onResize(e)),this}}}(jQuery);